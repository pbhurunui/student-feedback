<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Student Feedback Comparative Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            transition: background-color 0.5s ease;
        }
        /* Custom Scrollbar for better aesthetics */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #e0e0e0; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Custom Card Styles for pop effect */
        .feedback-card {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1), 0 6px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.9);
        }
        .feedback-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15), 0 8px 8px rgba(0, 0, 0, 0.08);
        }

        /* Dynamic Theme Colors (defined in JS, set via attribute) */
        [data-theme="All Subjects"] .theme-bg-gradient { background: linear-gradient(135deg, #4F46E5, #8B5CF6); }
        [data-theme="Music"] .theme-bg-gradient { background: linear-gradient(135deg, #EF4444, #F97316); } /* Red/Orange for Music */
        [data-theme="Ako"] .theme-bg-gradient { background: linear-gradient(135deg, #10B981, #34D399); } /* Green for Ako */
        [data-theme="Digital Technology"] .theme-bg-gradient { background: linear-gradient(135deg, #06B6D4, #38BDF8); } /* Cyan/Blue for Digital Tech */
        
        [data-theme="All Subjects"] .theme-text { color: #4F46E5; }
        [data-theme="Music"] .theme-text { color: #EF4444; }
        [data-theme="Ako"] .theme-text { color: #10B981; }
        [data-theme="Digital Technology"] .theme-text { color: #06B6D4; }

        /* Ensure table text is readable against card background */
        .data-table th, .data-table td {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
        }
    </style>
</head>
<body id="app-body" data-theme="All Subjects" class="min-h-screen p-4 sm:p-8">

    <div id="header-banner" class="theme-bg-gradient text-white rounded-xl p-6 mb-8 transition-all duration-500">
        <h1 class="text-3xl sm:text-4xl font-extrabold mb-1">2025 Student Feedback Dashboard</h1>
        <p class="text-lg font-light">Comparative Analysis: Term 1 (Foundation) vs. Term 3 (Growth)</p>
    </div>

    <div class="mb-8">
        <h2 class="text-xl font-semibold mb-3">Filter by Subject Focus:</h2>
        <div id="subject-filters" class="flex flex-wrap gap-3">
            <!-- Filter buttons will be inserted here by JavaScript -->
        </div>
    </div>

    <!-- Main Content Grid -->
    <div id="content-grid" class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <!-- Column 1: Executive Summary & Strengths -->
        <div class="lg:col-span-1 space-y-6">
            <div id="executive-summary" class="feedback-card rounded-xl p-6">
                <h2 class="text-2xl font-bold theme-text mb-4">Executive Summary</h2>
                <p class="text-gray-700 leading-relaxed text-sm" id="summary-text"></p>
            </div>

            <div id="primary-strengths" class="feedback-card rounded-xl p-6">
                <h2 class="text-2xl font-bold theme-text mb-4">Primary Strengths (Maintain)</h2>
                <ul id="strengths-list" class="list-none space-y-3">
                    <!-- Strengths will be inserted here -->
                </ul>
            </div>
        </div>

        <!-- Column 2: Quantitative Metrics -->
        <div class="lg:col-span-2">
            <div id="metrics-comparison" class="feedback-card rounded-xl p-6">
                <h2 class="text-2xl font-bold theme-text mb-4">Quantitative Metric Comparison (T1 vs. T3)</h2>
                <div class="overflow-x-auto">
                    <table class="w-full data-table text-left text-sm">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50 rounded-lg">
                            <tr>
                                <th scope="col" class="py-3 px-6 rounded-tl-lg">Metric</th>
                                <th scope="col" class="py-3 px-6">T1 Focus (Persona)</th>
                                <th scope="col" class="py-3 px-6">T3 Focus (Pedagogy)</th>
                                <th scope="col" class="py-3 px-6">Change</th>
                                <th scope="col" class="py-3 px-6 rounded-tr-lg">Interpretation</th>
                            </tr>
                        </thead>
                        <tbody id="metrics-body">
                            <!-- Metrics will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Full-Width Row for Qualitative Themes and Optimization -->
        <div class="lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-6">
            <div id="qualitative-likes" class="feedback-card rounded-xl p-6">
                <h2 class="text-2xl font-bold theme-text mb-4">Qualitative Themes: Likes (T1 vs T3)</h2>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <h3 class="font-semibold text-base mb-2 text-gray-600">Term 1 (Persona & Vibe)</h3>
                        <ul id="t1-likes-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-base mb-2 text-gray-600">Term 3 (Methodology & Impact)</h3>
                        <ul id="t3-likes-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                    </div>
                </div>
                <p class="mt-4 text-xs italic text-gray-500" id="qualitative-insight"></p>
            </div>

            <div id="optimization-area" class="feedback-card rounded-xl p-6">
                <h2 class="text-2xl font-bold theme-text mb-4">Key Area for Optimization</h2>
                <ul id="optimization-list" class="list-none space-y-4">
                    <!-- Optimizations will be inserted here -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        const appBody = document.getElementById('app-body');
        const summaryText = document.getElementById('summary-text');
        const strengthsList = document.getElementById('strengths-list');
        const metricsBody = document.getElementById('metrics-body');
        const t1LikesList = document.getElementById('t1-likes-list');
        const t3LikesList = document.getElementById('t3-likes-list');
        const optimizationList = document.getElementById('optimization-list');
        const subjectFilters = document.getElementById('subject-filters');
        const qualitativeInsight = document.getElementById('qualitative-insight');
        
        // --- 1. DATA MODEL (Based on the analysis_report.md) ---

        const analysisData = {
            subjects: ["All Subjects", "Music", "Ako", "Digital Technology"],
            summary: "The transition from Term 1 to Term 3 shows a highly positive trend. While baseline scores in T1 were strong, indicating a safe and comfortable learning environment, the T3 data suggests significant successful refinement of teaching methodology. Students in T3 provided more detailed and specific qualitative feedback, moving from praising the teacher's *persona* (friendly, chill, comfortable) in T1 to praising the teacher's *pedagogy* (practical application, clear alternative explanations, engaging activities) in T3. Performance across core metrics like Clarity, Support, and Environment is consistently high, suggesting robust and effective teaching.",
            
            metrics: [
                { metric: "Explanation Clarity (`How clearly do I explain...`)", t1: "High", t3: "Maintained/Slightly Higher", change: "Stable/Positive", interpretation: "Explanations remain consistently high quality, likely reaching a ceiling of 'Very Clear'." },
                { metric: "Lesson Interest (`How interesting are the lessons?`)", t1: "High", t3: "**Slight Increase**", change: "**Growth**", interpretation: "The introduction of new activities/methods (e.g., Quizlet, practicals) appears to have positively impacted overall student interest." },
                { metric: "Use of Different Methods (`Do I use different ways...?`)", t1: "High", t3: "Maintained", change: "Stable", interpretation: "Consistent use of varied resources (videos, activities, examples) across both terms." },
                { metric: "Engagement/Enjoyment (`Do I make learning engaging...?`)", t1: "High", t3: "Maintained/Slightly Higher", change: "Stable/Positive", interpretation: "Students consistently find the learning experience engaging and enjoyable." },
                { metric: "Speed of Feedback (`How quickly do I give feedback...?`)", t1: "High", t3: "Maintained", change: "Stable", interpretation: "Timely feedback is a consistent strength throughout the year." },
                { metric: "Comfort Asking for Help (`How comfortable do you feel...?`)", t1: "**Very High**", t3: "**Very High**", change: "**Strength**", interpretation: "The consistent perception of a non-scary, supportive environment is a core strength." },
                { metric: "Safe & Heard Environment (`Do I create an environment...?`)", t1: "**Very High**", t3: "**Very High**", change: "**Strength**", interpretation: "This core strength of the classroom environment has been successfully maintained." }
            ],
            
            qualitative: {
                t1: ["The Environment: \"Chill,\" \"not a scary environment,\" \"comfortable.\"", "Relatability: \"Friendly and relatable,\" \"great to be around.\"", "Clarity/Efficiency: \"Straightforward,\" \"get what needs to be done, done.\""],
                t3: ["Practical Application: \"How much practical time we get,\" \"practical assessments.\"", "Differentiated Support: \"Always try to see our point of views,\" \"explain it in a different way so we do understand.\"", "Engagement Methods: \"Very fun in the activities that you do,\" specifically mentioning *Quizlet* for theory."]
            },

            strengths: [
                "Supportive Climate: The highest-rated and most consistent strength is the comfortable, safe, and helpful classroom environment.",
                "Effective Feedback: The speed and helpfulness of feedback are consistently praised.",
                "Differentiated Instruction: T3 students explicitly value your ability to explain concepts in multiple ways until they understand."
            ],

            optimizations: [
                {
                    title: "Active Group Monitoring (T3 Feedback)",
                    description: "Address the T3 feedback regarding checking in on groups more often. This may involve implementing a structured rotation or using non-verbal signals for group needs during practical tasks.",
                    subject_focus: {
                        "Music": "Focus on checking in with instrumental groups (bands, composition) every 5-7 minutes during practical time.",
                        "Ako": "Focus on checking in with students during independent goal-setting or online research tasks to ensure focus and progress.",
                        "Digital Technology": "Focus on debugging/coding groups, especially when they hit a roadblock, to prevent long periods of stagnation.",
                        "All Subjects": "Use the structured rotation technique."
                    }
                },
                {
                    title: "Theory Engagement & Balance (T3 Feedback)",
                    description: "Prioritize creating and implementing more gamified/interactive methods to balance the popular practical work, leveraging the positive T3 response to Quizlet.",
                    subject_focus: {
                        "Music": "Create interactive rhythm/notation games (Kahoot/Quizlet) and virtual listening rooms.",
                        "Ako": "Use structured debate or quick-fire ethical scenario discussions for theory topics.",
                        "Digital Technology": "Implement live-coding challenges or collaborative documentation writing tasks.",
                        "All Subjects": "Expand use of gamification for core theoretical concepts."
                    }
                }
            ],
            
            // Insight remains constant as the overall T1->T3 observation
            insight: "The shift indicates that the positive environment established early on allowed you to successfully implement and refine new, effective teaching strategies that students specifically recognize and value later in the year."
        };

        let currentSubject = analysisData.subjects[0]; // Default to "All Subjects"

        // --- 2. RENDERING FUNCTIONS ---

        function renderMetrics(metrics) {
            metricsBody.innerHTML = metrics.map(row => {
                return `
                    <tr class="bg-white border-b hover:bg-gray-50 text-gray-600">
                        <th scope="row" class="py-3 px-6 font-medium whitespace-nowrap">${row.metric}</th>
                        <td class="py-3 px-6">${row.t1.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</td>
                        <td class="py-3 px-6">${row.t3.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</td>
                        <td class="py-3 px-6 text-sm">
                            <span class="${row.change.includes('Growth') || row.change.includes('Positive') ? 'text-green-600 font-semibold' : 'text-yellow-600'}">
                                ${row.change.replace(/\*\*(.*?)\*\*/g, '$1')}
                            </span>
                        </td>
                        <td class="py-3 px-6 text-xs italic text-gray-500">${row.interpretation}</td>
                    </tr>
                `;
            }).join('');
        }

        function renderQualitative(t1, t3, insight) {
            t1LikesList.innerHTML = t1.map(item => `<li>${item}</li>`).join('');
            t3LikesList.innerHTML = t3.map(item => `<li class="font-medium text-purple-700">${item}</li>`).join('');
            qualitativeInsight.innerHTML = `**T1 â†’ T3 Insight:** ${insight}`;
        }
        
        function renderStrengths(strengths) {
            strengthsList.innerHTML = strengths.map((s, index) => `
                <li class="flex items-start">
                    <span class="inline-block w-6 h-6 mr-3 rounded-full theme-bg-gradient text-white text-center flex items-center justify-center font-bold text-xs flex-shrink-0">${index + 1}</span>
                    <p class="text-gray-700 font-medium">${s}</p>
                </li>
            `).join('');
        }

        function renderOptimizations(optimizations, subject) {
            optimizationList.innerHTML = optimizations.map((opt, index) => {
                const focus = opt.subject_focus[subject] || opt.subject_focus["All Subjects"];
                return `
                    <li class="border-l-4 border-r-2 p-4 rounded-lg bg-red-50/50 shadow-md transition-all duration-300">
                        <h3 class="font-bold text-lg text-red-700 mb-2 flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            ${index + 1}. ${opt.title}
                        </h3>
                        <p class="text-gray-700 mb-3">${opt.description}</p>
                        <div class="p-3 mt-2 rounded-md bg-white border border-dashed theme-text font-semibold text-sm">
                            <span class="theme-text">Subject Focus:</span> ${focus}
                        </div>
                    </li>
                `;
            }).join('');
        }

        function renderFilters(subjects) {
            subjectFilters.innerHTML = subjects.map(subject => {
                return `
                    <button 
                        data-subject="${subject}" 
                        onclick="setSubjectFilter('${subject}')"
                        class="px-4 py-2 rounded-full font-semibold text-sm transition-all duration-300 ease-in-out shadow-lg 
                        ${currentSubject === subject ? 'bg-indigo-600 text-white transform scale-105' : 'bg-white text-gray-700 hover:bg-gray-100'}"
                    >
                        ${subject}
                    </button>
                `;
            }).join('');
        }

        // --- 3. CONTROLLER / EVENT HANDLER ---

        function setSubjectFilter(subject) {
            currentSubject = subject;
            appBody.setAttribute('data-theme', subject);
            
            // Re-render components that rely on the subject for styling/text
            renderFilters(analysisData.subjects);
            renderStrengths(analysisData.strengths);
            renderOptimizations(analysisData.optimizations, subject);

            // Update main summary and title to reflect the focus change
            document.getElementById('header-banner').classList.add('animate-pulse');
            setTimeout(() => {
                document.getElementById('header-banner').classList.remove('animate-pulse');
            }, 500);
        }

        // --- 4. INITIALIZATION ---

        function initializeDashboard() {
            summaryText.innerHTML = analysisData.summary.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // Initial render of all sections
            renderMetrics(analysisData.metrics);
            renderQualitative(analysisData.qualitative.t1, analysisData.qualitative.t3, analysisData.insight);
            
            // Initialize with default subject ("All Subjects")
            setSubjectFilter(currentSubject); 
        }

        window.onload = initializeDashboard;

    </script>
</body>
</html>
